<div class="billboard-chain-left"></div>
<div class="billboard-chain-right"></div>
<div class="billboard"></div>
<div class="billboard-shadow"></div>
<div class="billboard-sign"></div>
<div class="frame-wrapper">
    <div class="loader" v-show="!sites">
        <div class="ball"></div>
        <p>LOADING YOUR SITES</p>
    </div>

    <div v-el="content" class="content" v-show="sites">
        <h1>YOUR SITES</h1>

        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>URL</th>
                    <th>Views Today</th>
                    <th>Total Views</th>
                    <th>Enabled</th>
                    <th>Delete</th>
                </tr>
            </thead>
            <tbody>
                <tr v-repeat="site: sites">
                    <td>{{ site.name }}</td>
                    <td>{{ site.url }}</td>
                    <td>{{ site.views_today }}</td>
                    <td>{{ site.views_total }}</td>
                    <td><a href="#" v-on="click: toggleSite($event, site)">{{ site.enabled ? 'Yup :)' : 'Nope :(' }}</a></td>
                    <td><a href="#" v-on="click: deleteSite($event, site)"><i class="fa fa-times"></i></a></td>
                </tr>
                <tr v-show="noSites">
                    <td colspan="4">You have no sites.</td>
                </tr>
            </tbody>
        </table>

        <div class="alert alert-danger" role="alert" v-if="delete">
              <p>Are you sure you want to remove '{{ delete.name }}'? </p>
              <br>
              <button type="button" class="btn btn-danger margin-right" v-on="click: confirmDelete">Yes, Delete Me</button>
              <button type="button" class="btn btn-default" v-on="click: cancelDelete">Cancel</button>
        </div>

        <button type="button" class="btn btn-primary right" v-on="click: addSite" v-show="!newSite.active">Add New Site</button>

        <div class="panel panel-default" v-show="newSite.active">
            <div class="panel-body">
                <div class="loader-inner" v-show="newSite.posting">
                    <div class="ball"></div>
                    <p>ADDING SITE</p>
                </div>

                <div v-show="!newSite.posting">
                    <div class="form-group">
                        <label for="siteName">Website Name:</label>
                        <input type="text" class="form-control" id="siteName" v-model="newSite.name" v-validate="minLength: 2">
                        <small class="text-danger" v-if="newSite.name && validation.newSite.name.minLength">Name is too short</small>
                    </div>

                    <div class="form-group">
                        <label for="siteUrl">Website URL:</label>
                        <input type="text" class="form-control" id="siteUrl" v-model="newSite.url" v-validate="url">
                        <small class="text-danger" v-if="newSite.url && validation.newSite.url.url">Url is invalid</small>
                    </div>

                    <br>

                    <button type="button" class="btn btn-primary margin-right" v-if="valid" v-on="click: confirmAdd">Add Me</button>
                    <button type="button" class="btn btn-default" v-on="click: cancelAdd">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</div>
